from pymodbus.server.sync import StartTcpServer
from pymodbus.datastore import ModbusSequentialDataBlock
from pymodbus.datastore import ModbusSlaveContext, ModbusServerContext

# Create a Modbus data block with example values
block = ModbusSequentialDataBlock(0, [10] * 100)

# Create a slave context using the data block
store = ModbusSlaveContext(di=block, co=block, hr=block, ir=block)
context = ModbusServerContext(slaves=store, single=True)

# Run the Modbus TCP server on the specified address and port
server = StartTcpServer(context, address=("0.0.0.0", 502))
